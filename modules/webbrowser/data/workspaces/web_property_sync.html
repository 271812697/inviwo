<html>
<head>
<title>Inviwo property syncing example</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="../js/inviwoapi.js"></script>

<script language="JavaScript">
// Initialize Inviwo API so that we can use it to synchronize properties
var inviwo = new InviwoAPI();
</script>

</head>
<body>
<h3>HTML<->Inviwo synchronization (javascript & JSON)</h3>
<div class="slidecontainer">
  <p>Range<input type="range" min="1" max="100" value="50" class="slider" id="ordinalProperty">
  <span id="ordinalPropertyValue"></span></p>
</div>
  <p><input type="button" value="Button" id="buttonProperty" onclick="inviwo.setProperty('Background.switchColors', {value: this.value})"></p>
  <p>Checkbox <input type="checkbox" value="Checkbox" id="boolProperty" onchange="inviwo.setProperty('TextOverlay.enable', {value: this.checked})"></p>
  <p>Text <input type="text" id="stringProperty" value="not changed" oninput="inviwo.setProperty('TextOverlay.text', {value: this.value})" ></p>
<script>
	
var slider = document.getElementById("ordinalProperty");
var ordinalPropertyValue = document.getElementById("ordinalPropertyValue");

slider.oninput = function() {
	inviwo.setProperty("MeshCreator.torusRadius2_", {value: Number(this.value)});
    ordinalPropertyValue.innerHTML = this.value;
}
// Update html inputs when corresponding Inviwo properties change
inviwo.subscribe("ordinalProperty", "MeshCreator.torusRadius2_");
inviwo.subscribe("boolProperty", "TextOverlay.enable");
inviwo.subscribe("stringProperty", "TextOverlay.text");
</script>
</body>
</html>
